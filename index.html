{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–î–ª—è —Ç–µ–±—è üíå</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fdf6e3; /* –Ω–µ–∂–Ω–æ-–º–æ–ª–æ—á–Ω—ã–π —Ñ–æ–Ω */
  font-family: 'Poppins', sans-serif;
  overflow:hidden;

  opacity:0;
  transition: opacity 0.6s ease, transform 0.6s ease;
}

body.loaded{
  opacity:1;
  transform: scale(1);
}

.center{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:60px;
}

/* –°–µ—Ä–¥–µ—á–∫–∏ */
.hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:10;
}
.heart{
  position:absolute;
  font-size:22px;
  animation:fall linear forwards;
}
@keyframes fall{
  to{ transform:translateY(110vh) rotate(360deg); opacity:0; }
}

/* –ö–æ–Ω–≤–µ—Ä—Ç */
.envelope{
  position:relative;
  width:380px;
  height:240px;
  background:white;
  border-radius:20px;
  box-shadow:0 40px 100px rgba(0,0,0,0.25);
  overflow:hidden;
  cursor:pointer;
}

/* –ö–ª–∞–ø–∞–Ω */
.envelope::before{
  content:"";
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:120px;
  background:#ff6f91;
  clip-path: polygon(0 0,100% 0,50% 100%);
  transform-origin:top;
  transition:transform .8s ease;
}

.envelope.open::before{
  transform:rotateX(170deg);
}

/* –ö–Ω–æ–ø–∫–∞ */
.button{
  position:absolute;
  bottom:35px;
  left:50%;
  transform:translateX(-50%);
  padding:16px 36px;
  border:none;
  border-radius:30px;
  font-size:18px;
  font-weight:600;
  color:white;
  background:#ff4d6d;
  box-shadow:0 12px 30px rgba(0,0,0,0.25);
  cursor:pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.6s ease;
  z-index:1;
}

.button:hover{
  transform:translateX(-50%) scale(1.1);
  box-shadow:0 15px 35px rgba(0,0,0,0.35);
}

.button:active{
  transform:translateX(-50%) scale(0.95);
  box-shadow:0 8px 20px rgba(0,0,0,0.25);
}

/* –¢–µ–∫—Å—Ç */
.text{
  font-size:30px;
  color:#222222;
  font-weight:600;
  text-shadow:0 12px 30px rgba(0,0,0,0.2);
  transition: opacity 0.6s ease;
}
</style>
</head>
<body>

<div class="hearts" id="hearts"></div>

<div class="center">
  <div class="envelope" id="env">
    <button class="button" id="btn">–û—Ç–∫—Ä—ã—Ç—å üíñ</button>
  </div>

  <div class="text">
    –ù–µ —Ö–æ—á–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç? üíå
  </div>
</div>

<script>
// –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
window.onload = () => document.body.classList.add('loaded');

// –°–µ—Ä–¥–µ—á–∫–∏
const hearts = document.getElementById('hearts');
const symbols = ['‚ù§Ô∏è','üíñ','üíó','üíï','üíì'];

setInterval(()=>{
  const h = document.createElement('div');
  h.className='heart';
  h.innerHTML = symbols[Math.floor(Math.random()*symbols.length)];
  h.style.left = Math.random()*100+'vw';
  h.style.top='-20px';
  h.style.animationDuration = (4+Math.random()*4)+'s';
  hearts.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},300);

// –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
const env = document.getElementById('env');
const btn = document.getElementById('btn');

btn.addEventListener('click', ()=>{
  // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–ª–∞–ø–∞–Ω
  env.classList.add('open');
  // –ü–ª–∞–≤–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Ç–µ–ª–∞
  document.body.style.opacity = 0;
  setTimeout(()=>{
    window.location.href = "quest.html";
  },600); // –≤—Ä–µ–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å transition
});
</script>

</body>
</html>
